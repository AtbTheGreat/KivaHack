<!DOCTYPE html>
<html>
<head>
<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script>
/*
function makeListItems(key, val) {
	// Function found through sample code.
	var items = [];
	items.push('<b>' + key + '</b><br>');
	$.each(val, function(key, val) {
		if (typeof(val) == 'object') {
			items.push(makeListItems(key, val));
		} else {
			items.push(key + ': ' + val + '<br>');
		}
	});
	items.push('</ul></li>');
	return items.join('');
}
var lenderID = "matt" 
var lendersite = "http://api.kivaws.org/v1/lenders/" + lenderID+"/loans.json" //URL for lender JSON data
$.getJSON(lendersite, function( data ){
	var items = [];
	var title="Loan";
	items.push(makeListItems(title, data.loans));
	//document.write(items[0])
//	var element = []; //Separate each line into a different element in an array
	entries = items[0].split("<br>")
	countries = [];
	for (i=0;i<entries.length;i++) {
	//document.write(entries[i]+'<br>');
		if (entries[i].indexOf(": ") == -1) {
		}
		else {
			//document.write(entries[i] + "<br>") //debugging
			row = entries[i].split(": ")
			if (row[0]=="country"){
				countries.push(row[1])
				//document.write(row[1] + "<br>")
			}
		}
	}
	document.write(countries);
	*/
	google.load("visualization", "1", {packages:["geochart"]});
      google.setOnLoadCallback(drawRegionsMap);

      function drawRegionsMap() {

        var countryData = google.visualization.arrayToDataTable([
          ['Country', 'Popularity'],
          ['Germany', 200],
          ['United States', 300],
          ['Brazil', 400],
          ['Canada', 500],
          ['France', 600],
          ['RU', 700]
        ]);
        var options = {};
        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
        chart.draw(countryData, options);
      }
	  document.write("Done!")
});

</script>
</head>
<body>
</body>
</html>
